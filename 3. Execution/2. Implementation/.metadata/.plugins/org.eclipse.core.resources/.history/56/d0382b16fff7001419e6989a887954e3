package ch.hearc.p2.java;


//
//import javax.media.opengl.GL;
//import javax.media.opengl.glu.GLU;



import org.jzy3d.analysis.AbstractAnalysis;
import org.jzy3d.analysis.AnalysisLauncher;
import org.jzy3d.analysis.IAnalysis;
import org.jzy3d.chart.Chart;
import org.jzy3d.chart.factories.AWTChartComponentFactory;
import org.jzy3d.colors.Color;
import org.jzy3d.colors.ColorMapper;
import org.jzy3d.colors.colormaps.ColorMapRainbow;
import org.jzy3d.maths.Range;
import org.jzy3d.plot3d.builder.Builder;
import org.jzy3d.plot3d.builder.Mapper;
import org.jzy3d.plot3d.builder.concrete.OrthonormalGrid;
import org.jzy3d.plot3d.primitives.Shape;
import org.jzy3d.plot3d.rendering.canvas.Quality;

public class Test3d implements IAnalysis {
	public static void main(String[] args) throws Exception {
		AnalysisLauncher.open(new Test3d());
	}
	
	public Test3d() {
	}
	
	@Override
	public void init() {
		// Define a function to plot
		Mapper mapper = new Mapper() {
			public double f(double x, double y) {
				return x * Math.sin(x * y);
			}
		};
		// Define range and precision for the function to plot
		Range range = new Range(-3, 3);
		int steps = 80;
		// Create the object to represent the function over the given range.
		final Shape surface = Builder.buildOrthonormal(new OrthonormalGrid(range, steps, range, steps), mapper);
		surface.setColorMapper(new ColorMapper(new ColorMapRainbow(), surface.getBounds().getZmin(), surface.getBounds().getZmax(), new Color(1, 1, 1, .5f)));
		surface.setFaceDisplayed(true);
		surface.setWireframeDisplayed(false);
		// Create a chart
		chart = AWTChartComponentFactory.chart(Quality.Advanced, getCanvasType());
		chart.getScene().getGraph().add(surface);
	}

	@Override
	public String getName() {
	return this.getClass().getSimpleName();
	}
	@Override
	public String getPitch(){
	return "";
	}
	@Override
	public boolean isInitialized(){
	return chart!=null;
	}
	@Override
	public Chart getChart(){
	return chart;
	}
	@Override
	public String getCanvasType(){
	return canvasType;
	}
	@Override
	public void setCanvasType(String type){
	canvasType = type;
	}
	@Override
	public boolean hasOwnChartControllers(){
	return false;
	}
	protected Chart chart;
	protected String canvasType="awt";
}